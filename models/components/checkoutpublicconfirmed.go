// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"errors"
	"fmt"
	"polar/internal/utils"
	"time"
)

// CheckoutPublicConfirmedCustomFieldData - Key-value object storing custom field values.
type CheckoutPublicConfirmedCustomFieldData struct {
}

type Status string

const (
	StatusConfirmed Status = "confirmed"
)

func (e Status) ToPointer() *Status {
	return &e
}
func (e *Status) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "confirmed":
		*e = Status(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Status: %v", v)
	}
}

type CheckoutPublicConfirmedPaymentProcessorMetadata struct {
}

type CheckoutPublicConfirmedDiscountType string

const (
	CheckoutPublicConfirmedDiscountTypeCheckoutDiscountFixedOnceForeverDuration      CheckoutPublicConfirmedDiscountType = "CheckoutDiscountFixedOnceForeverDuration"
	CheckoutPublicConfirmedDiscountTypeCheckoutDiscountFixedRepeatDuration           CheckoutPublicConfirmedDiscountType = "CheckoutDiscountFixedRepeatDuration"
	CheckoutPublicConfirmedDiscountTypeCheckoutDiscountPercentageOnceForeverDuration CheckoutPublicConfirmedDiscountType = "CheckoutDiscountPercentageOnceForeverDuration"
	CheckoutPublicConfirmedDiscountTypeCheckoutDiscountPercentageRepeatDuration      CheckoutPublicConfirmedDiscountType = "CheckoutDiscountPercentageRepeatDuration"
)

type CheckoutPublicConfirmedDiscount struct {
	CheckoutDiscountFixedOnceForeverDuration      *CheckoutDiscountFixedOnceForeverDuration      `queryParam:"inline"`
	CheckoutDiscountFixedRepeatDuration           *CheckoutDiscountFixedRepeatDuration           `queryParam:"inline"`
	CheckoutDiscountPercentageOnceForeverDuration *CheckoutDiscountPercentageOnceForeverDuration `queryParam:"inline"`
	CheckoutDiscountPercentageRepeatDuration      *CheckoutDiscountPercentageRepeatDuration      `queryParam:"inline"`

	Type CheckoutPublicConfirmedDiscountType
}

func CreateCheckoutPublicConfirmedDiscountCheckoutDiscountFixedOnceForeverDuration(checkoutDiscountFixedOnceForeverDuration CheckoutDiscountFixedOnceForeverDuration) CheckoutPublicConfirmedDiscount {
	typ := CheckoutPublicConfirmedDiscountTypeCheckoutDiscountFixedOnceForeverDuration

	return CheckoutPublicConfirmedDiscount{
		CheckoutDiscountFixedOnceForeverDuration: &checkoutDiscountFixedOnceForeverDuration,
		Type:                                     typ,
	}
}

func CreateCheckoutPublicConfirmedDiscountCheckoutDiscountFixedRepeatDuration(checkoutDiscountFixedRepeatDuration CheckoutDiscountFixedRepeatDuration) CheckoutPublicConfirmedDiscount {
	typ := CheckoutPublicConfirmedDiscountTypeCheckoutDiscountFixedRepeatDuration

	return CheckoutPublicConfirmedDiscount{
		CheckoutDiscountFixedRepeatDuration: &checkoutDiscountFixedRepeatDuration,
		Type:                                typ,
	}
}

func CreateCheckoutPublicConfirmedDiscountCheckoutDiscountPercentageOnceForeverDuration(checkoutDiscountPercentageOnceForeverDuration CheckoutDiscountPercentageOnceForeverDuration) CheckoutPublicConfirmedDiscount {
	typ := CheckoutPublicConfirmedDiscountTypeCheckoutDiscountPercentageOnceForeverDuration

	return CheckoutPublicConfirmedDiscount{
		CheckoutDiscountPercentageOnceForeverDuration: &checkoutDiscountPercentageOnceForeverDuration,
		Type: typ,
	}
}

func CreateCheckoutPublicConfirmedDiscountCheckoutDiscountPercentageRepeatDuration(checkoutDiscountPercentageRepeatDuration CheckoutDiscountPercentageRepeatDuration) CheckoutPublicConfirmedDiscount {
	typ := CheckoutPublicConfirmedDiscountTypeCheckoutDiscountPercentageRepeatDuration

	return CheckoutPublicConfirmedDiscount{
		CheckoutDiscountPercentageRepeatDuration: &checkoutDiscountPercentageRepeatDuration,
		Type:                                     typ,
	}
}

func (u *CheckoutPublicConfirmedDiscount) UnmarshalJSON(data []byte) error {

	var checkoutDiscountPercentageOnceForeverDuration CheckoutDiscountPercentageOnceForeverDuration = CheckoutDiscountPercentageOnceForeverDuration{}
	if err := utils.UnmarshalJSON(data, &checkoutDiscountPercentageOnceForeverDuration, "", true, true); err == nil {
		u.CheckoutDiscountPercentageOnceForeverDuration = &checkoutDiscountPercentageOnceForeverDuration
		u.Type = CheckoutPublicConfirmedDiscountTypeCheckoutDiscountPercentageOnceForeverDuration
		return nil
	}

	var checkoutDiscountFixedOnceForeverDuration CheckoutDiscountFixedOnceForeverDuration = CheckoutDiscountFixedOnceForeverDuration{}
	if err := utils.UnmarshalJSON(data, &checkoutDiscountFixedOnceForeverDuration, "", true, true); err == nil {
		u.CheckoutDiscountFixedOnceForeverDuration = &checkoutDiscountFixedOnceForeverDuration
		u.Type = CheckoutPublicConfirmedDiscountTypeCheckoutDiscountFixedOnceForeverDuration
		return nil
	}

	var checkoutDiscountPercentageRepeatDuration CheckoutDiscountPercentageRepeatDuration = CheckoutDiscountPercentageRepeatDuration{}
	if err := utils.UnmarshalJSON(data, &checkoutDiscountPercentageRepeatDuration, "", true, true); err == nil {
		u.CheckoutDiscountPercentageRepeatDuration = &checkoutDiscountPercentageRepeatDuration
		u.Type = CheckoutPublicConfirmedDiscountTypeCheckoutDiscountPercentageRepeatDuration
		return nil
	}

	var checkoutDiscountFixedRepeatDuration CheckoutDiscountFixedRepeatDuration = CheckoutDiscountFixedRepeatDuration{}
	if err := utils.UnmarshalJSON(data, &checkoutDiscountFixedRepeatDuration, "", true, true); err == nil {
		u.CheckoutDiscountFixedRepeatDuration = &checkoutDiscountFixedRepeatDuration
		u.Type = CheckoutPublicConfirmedDiscountTypeCheckoutDiscountFixedRepeatDuration
		return nil
	}

	return fmt.Errorf("could not unmarshal `%s` into any supported union types for CheckoutPublicConfirmedDiscount", string(data))
}

func (u CheckoutPublicConfirmedDiscount) MarshalJSON() ([]byte, error) {
	if u.CheckoutDiscountFixedOnceForeverDuration != nil {
		return utils.MarshalJSON(u.CheckoutDiscountFixedOnceForeverDuration, "", true)
	}

	if u.CheckoutDiscountFixedRepeatDuration != nil {
		return utils.MarshalJSON(u.CheckoutDiscountFixedRepeatDuration, "", true)
	}

	if u.CheckoutDiscountPercentageOnceForeverDuration != nil {
		return utils.MarshalJSON(u.CheckoutDiscountPercentageOnceForeverDuration, "", true)
	}

	if u.CheckoutDiscountPercentageRepeatDuration != nil {
		return utils.MarshalJSON(u.CheckoutDiscountPercentageRepeatDuration, "", true)
	}

	return nil, errors.New("could not marshal union type CheckoutPublicConfirmedDiscount: all fields are null")
}

// CheckoutPublicConfirmed - Checkout session data retrieved using the client secret after confirmation.
//
// It contains a customer session token to retrieve order information
// right after the checkout.
type CheckoutPublicConfirmed struct {
	// Creation timestamp of the object.
	CreatedAt time.Time `json:"created_at"`
	// Last modification timestamp of the object.
	ModifiedAt *time.Time `json:"modified_at"`
	// The ID of the object.
	ID string `json:"id"`
	// Key-value object storing custom field values.
	CustomFieldData  *CheckoutPublicConfirmedCustomFieldData `json:"custom_field_data,omitempty"`
	paymentProcessor PaymentProcessor                        `const:"stripe" json:"payment_processor"`
	status           Status                                  `const:"confirmed" json:"status"`
	// Client secret used to update and complete the checkout session from the client.
	ClientSecret string `json:"client_secret"`
	// URL where the customer can access the checkout session.
	URL string `json:"url"`
	// Expiration date and time of the checkout session.
	ExpiresAt time.Time `json:"expires_at"`
	// URL where the customer will be redirected after a successful payment.
	SuccessURL string `json:"success_url"`
	// When checkout is embedded, represents the Origin of the page embedding the checkout. Used as a security measure to send messages only to the embedding page.
	EmbedOrigin *string `json:"embed_origin"`
	Amount      *int64  `json:"amount"`
	// Computed tax amount to pay in cents.
	TaxAmount *int64 `json:"tax_amount"`
	// Currency code of the checkout session.
	Currency *string `json:"currency"`
	// Subtotal amount in cents, including discounts and before tax.
	SubtotalAmount *int64 `json:"subtotal_amount"`
	// Total amount to pay in cents, including discounts and after tax.
	TotalAmount *int64 `json:"total_amount"`
	// ID of the product to checkout.
	ProductID string `json:"product_id"`
	// ID of the product price to checkout.
	ProductPriceID string `json:"product_price_id"`
	// ID of the discount applied to the checkout.
	DiscountID *string `json:"discount_id"`
	// Whether to allow the customer to apply discount codes. If you apply a discount through `discount_id`, it'll still be applied, but the customer won't be able to change it.
	AllowDiscountCodes bool `json:"allow_discount_codes"`
	// Whether the discount is applicable to the checkout. Typically, free and custom prices are not discountable.
	IsDiscountApplicable bool `json:"is_discount_applicable"`
	// Whether the product price is free, regardless of discounts.
	IsFreeProductPrice bool `json:"is_free_product_price"`
	// Whether the checkout requires payment, e.g. in case of free products or discounts that cover the total amount.
	IsPaymentRequired bool `json:"is_payment_required"`
	// Whether the checkout requires setting up a payment method, regardless of the amount, e.g. subscriptions that have first free cycles.
	IsPaymentSetupRequired bool `json:"is_payment_setup_required"`
	// Whether the checkout requires a payment form, whether because of a payment or payment method setup.
	IsPaymentFormRequired    bool                                            `json:"is_payment_form_required"`
	CustomerID               *string                                         `json:"customer_id"`
	CustomerName             *string                                         `json:"customer_name"`
	CustomerEmail            *string                                         `json:"customer_email"`
	CustomerIPAddress        *string                                         `json:"customer_ip_address"`
	CustomerBillingAddress   *Address                                        `json:"customer_billing_address"`
	CustomerTaxID            *string                                         `json:"customer_tax_id"`
	PaymentProcessorMetadata CheckoutPublicConfirmedPaymentProcessorMetadata `json:"payment_processor_metadata"`
	// Product data for a checkout session.
	Product              CheckoutProduct                  `json:"product"`
	ProductPrice         ProductPrice                     `json:"product_price"`
	Discount             *CheckoutPublicConfirmedDiscount `json:"discount"`
	Organization         Organization                     `json:"organization"`
	AttachedCustomFields []AttachedCustomField            `json:"attached_custom_fields"`
	CustomerSessionToken string                           `json:"customer_session_token"`
}

func (c CheckoutPublicConfirmed) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CheckoutPublicConfirmed) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, false); err != nil {
		return err
	}
	return nil
}

func (o *CheckoutPublicConfirmed) GetCreatedAt() time.Time {
	if o == nil {
		return time.Time{}
	}
	return o.CreatedAt
}

func (o *CheckoutPublicConfirmed) GetModifiedAt() *time.Time {
	if o == nil {
		return nil
	}
	return o.ModifiedAt
}

func (o *CheckoutPublicConfirmed) GetID() string {
	if o == nil {
		return ""
	}
	return o.ID
}

func (o *CheckoutPublicConfirmed) GetCustomFieldData() *CheckoutPublicConfirmedCustomFieldData {
	if o == nil {
		return nil
	}
	return o.CustomFieldData
}

func (o *CheckoutPublicConfirmed) GetPaymentProcessor() PaymentProcessor {
	return PaymentProcessorStripe
}

func (o *CheckoutPublicConfirmed) GetStatus() Status {
	return StatusConfirmed
}

func (o *CheckoutPublicConfirmed) GetClientSecret() string {
	if o == nil {
		return ""
	}
	return o.ClientSecret
}

func (o *CheckoutPublicConfirmed) GetURL() string {
	if o == nil {
		return ""
	}
	return o.URL
}

func (o *CheckoutPublicConfirmed) GetExpiresAt() time.Time {
	if o == nil {
		return time.Time{}
	}
	return o.ExpiresAt
}

func (o *CheckoutPublicConfirmed) GetSuccessURL() string {
	if o == nil {
		return ""
	}
	return o.SuccessURL
}

func (o *CheckoutPublicConfirmed) GetEmbedOrigin() *string {
	if o == nil {
		return nil
	}
	return o.EmbedOrigin
}

func (o *CheckoutPublicConfirmed) GetAmount() *int64 {
	if o == nil {
		return nil
	}
	return o.Amount
}

func (o *CheckoutPublicConfirmed) GetTaxAmount() *int64 {
	if o == nil {
		return nil
	}
	return o.TaxAmount
}

func (o *CheckoutPublicConfirmed) GetCurrency() *string {
	if o == nil {
		return nil
	}
	return o.Currency
}

func (o *CheckoutPublicConfirmed) GetSubtotalAmount() *int64 {
	if o == nil {
		return nil
	}
	return o.SubtotalAmount
}

func (o *CheckoutPublicConfirmed) GetTotalAmount() *int64 {
	if o == nil {
		return nil
	}
	return o.TotalAmount
}

func (o *CheckoutPublicConfirmed) GetProductID() string {
	if o == nil {
		return ""
	}
	return o.ProductID
}

func (o *CheckoutPublicConfirmed) GetProductPriceID() string {
	if o == nil {
		return ""
	}
	return o.ProductPriceID
}

func (o *CheckoutPublicConfirmed) GetDiscountID() *string {
	if o == nil {
		return nil
	}
	return o.DiscountID
}

func (o *CheckoutPublicConfirmed) GetAllowDiscountCodes() bool {
	if o == nil {
		return false
	}
	return o.AllowDiscountCodes
}

func (o *CheckoutPublicConfirmed) GetIsDiscountApplicable() bool {
	if o == nil {
		return false
	}
	return o.IsDiscountApplicable
}

func (o *CheckoutPublicConfirmed) GetIsFreeProductPrice() bool {
	if o == nil {
		return false
	}
	return o.IsFreeProductPrice
}

func (o *CheckoutPublicConfirmed) GetIsPaymentRequired() bool {
	if o == nil {
		return false
	}
	return o.IsPaymentRequired
}

func (o *CheckoutPublicConfirmed) GetIsPaymentSetupRequired() bool {
	if o == nil {
		return false
	}
	return o.IsPaymentSetupRequired
}

func (o *CheckoutPublicConfirmed) GetIsPaymentFormRequired() bool {
	if o == nil {
		return false
	}
	return o.IsPaymentFormRequired
}

func (o *CheckoutPublicConfirmed) GetCustomerID() *string {
	if o == nil {
		return nil
	}
	return o.CustomerID
}

func (o *CheckoutPublicConfirmed) GetCustomerName() *string {
	if o == nil {
		return nil
	}
	return o.CustomerName
}

func (o *CheckoutPublicConfirmed) GetCustomerEmail() *string {
	if o == nil {
		return nil
	}
	return o.CustomerEmail
}

func (o *CheckoutPublicConfirmed) GetCustomerIPAddress() *string {
	if o == nil {
		return nil
	}
	return o.CustomerIPAddress
}

func (o *CheckoutPublicConfirmed) GetCustomerBillingAddress() *Address {
	if o == nil {
		return nil
	}
	return o.CustomerBillingAddress
}

func (o *CheckoutPublicConfirmed) GetCustomerTaxID() *string {
	if o == nil {
		return nil
	}
	return o.CustomerTaxID
}

func (o *CheckoutPublicConfirmed) GetPaymentProcessorMetadata() CheckoutPublicConfirmedPaymentProcessorMetadata {
	if o == nil {
		return CheckoutPublicConfirmedPaymentProcessorMetadata{}
	}
	return o.PaymentProcessorMetadata
}

func (o *CheckoutPublicConfirmed) GetProduct() CheckoutProduct {
	if o == nil {
		return CheckoutProduct{}
	}
	return o.Product
}

func (o *CheckoutPublicConfirmed) GetProductPrice() ProductPrice {
	if o == nil {
		return ProductPrice{}
	}
	return o.ProductPrice
}

func (o *CheckoutPublicConfirmed) GetDiscount() *CheckoutPublicConfirmedDiscount {
	if o == nil {
		return nil
	}
	return o.Discount
}

func (o *CheckoutPublicConfirmed) GetOrganization() Organization {
	if o == nil {
		return Organization{}
	}
	return o.Organization
}

func (o *CheckoutPublicConfirmed) GetAttachedCustomFields() []AttachedCustomField {
	if o == nil {
		return []AttachedCustomField{}
	}
	return o.AttachedCustomFields
}

func (o *CheckoutPublicConfirmed) GetCustomerSessionToken() string {
	if o == nil {
		return ""
	}
	return o.CustomerSessionToken
}
